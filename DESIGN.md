# PixelmonServer 설계 문서

> **상태**: 초안 (v0.1) — 확정 전, 변경 가능
>
> 이 문서는 서버의 기준 진실(single source of truth)이다.
> 서버 구축 시 이 문서를 기준으로 작업한다.

---

## 1. 서버 컨셉

### 1.1 목표
- **친구 3~8명**과 함께 즐기는 PvE 중심 Pixelmon RPG 서버
- **최소한의 개발(틀만 잡기)**로 최대한의 컨텐츠 제공
- VPS가 남는 기간 동안의 즐길거리

### 1.2 방향
- 협력 중심, 경쟁은 "보조 양념" 수준
- PvP: 야생 상시 PvP ❌ → 선택적/이벤트성만 허용
- "빡센 MMO 서버"가 아니라 "잘 만든 Pixelmon RPG + 약간의 경쟁 요소"

### 1.3 PvP 원칙
- 기본 월드: PvP 비활성
- PvP 허용: 전용 구역 또는 이벤트에서만
- PvP 패배 시: 아이템 드랍 ❌, 포켓몬 영구 손실 ❌
- PvP 보상: 소량 포인트/토큰 + 명예/칭호 위주 (직접 돈 파밍 수단 ❌)

---

## 2. 기술 스택

### 2.1 기본 구성
| 구성 요소 | 선택 | 비고 |
|-----------|------|------|
| Minecraft 서버 | NeoForge | Forge 후속, Pixelmon 공식 지원 |
| 포켓몬 모드 | Pixelmon | NeoForge 버전 |
| 플러그인 로더 | SpongeNeo | NeoForge 위에서 플러그인 실행 |
| Java | 21 | NeoForge 최신 요구사항 확인 필요 |

### 2.2 핵심 리스크
| 리스크 | 심각도 | 대응 |
|--------|--------|------|
| NeoForge + SpongeNeo + Pixelmon 호환성 | **높음** | Phase 1에서 반드시 검증. 안 되면 대안 검토 |
| Sponge 플러그인 생태계 부족 | **중간** | 필요한 플러그인 존재 여부 먼저 확인 |
| VPS 스펙 (메모리) | **중간** | 최소 4GB RAM, 쾌적 6~8GB |

### 2.3 대안 플랜 (SpongeNeo 호환 실패 시)
- 옵션 A: Mohist 계열 (Forge + Bukkit 하이브리드)
- 옵션 B: Pixelmon 자체 사이드모드 활용 + 최소 플러그인
- Phase 1에서 결정

---

## 3. 컨텐츠 범위

### 3.1 고정 범위
| 컨텐츠 | 수량 | 비고 |
|--------|------|------|
| 체육관 | 2~4개 | 타입 테마, 친구 기준 난이도 |
| 리그 | 1개 | 엔드 컨텐츠, 체육관 올클리어 후 |
| 레이드 | 1~2종 | 전설/준전설 포켓몬 |
| 퀘스트 | 5~7개 | 컨텐츠 해금용 (스토리 ❌) |

### 3.2 퀘스트 구조 (최소)
1. 스타터 포켓몬 획득
2. 첫 체육관 도전 해금
3. 체육관 2개 클리어
4. 레이드 참가 자격 해금
5. 리그 도전 퀘스트

### 3.3 경제 루프
- 트레이너 배틀 → 보상
- 포켓몬 포획 → 보상
- 보상 → NPC 상점에서 아이템 구매
- 규모가 작으므로 복잡한 경제 시스템 불필요

---

## 4. 로드맵

> 원본 7 Phase를 서버 규모에 맞게 5 Phase로 축약.
> "간단하게 만들자"는 목표를 유지.

### Phase 0 — 기획/설계 (문서 작업)
- [x] 서버 컨셉 확정
- [x] PvP 원칙 정의
- [x] 컨텐츠 범위 고정
- [ ] VPS 스펙 확인 및 환경 조사
- [ ] NeoForge + SpongeNeo + Pixelmon 버전 호환성 조사

### Phase 1 — 서버 구동 + 호환성 검증
- [ ] Java 설치 (VPS)
- [ ] NeoForge 서버 세팅
- [ ] Pixelmon 모드 적용
- [ ] SpongeNeo 설치 및 연동
- [ ] **호환성 검증**: 포켓몬 스폰/포획/배틀 정상 작동 확인
- [ ] 실패 시 → §2.3 대안 플랜으로 전환

**완료 기준**: 서버 접속 → 포켓몬 잡기 → 트레이너 NPC 배틀 가능

### Phase 2 — 기본 인프라
- [ ] 권한 관리 (LuckPerms 또는 Sponge 호환 대안)
- [ ] 기본 명령어 (/spawn /home /tpa)
- [ ] 월드 보호 (Claim / 보호 플러그인)
- [ ] 블록 로그 / 롤백
- [ ] 기본 월드 PvP 비활성 설정

**완료 기준**: 친구들과 안정적으로 접속, 실수/트롤 방지 가능

### Phase 3 — 게임플레이 루프 구축
> 경제 + 체육관 + 퀘스트를 한 덩어리로 진행

- [ ] 화폐 시스템 (Pixelmon 자체 or 서버 화폐)
- [ ] NPC 상점 구성
- [ ] 체육관 맵 제작 + NPC 배치 (2~4개)
- [ ] 체육관 보상 연결
- [ ] 퀘스트 시스템 (해금용 5~7개)
- [ ] 퀘스트 조건/완료/보상 자동화

**완료 기준**: 서버가 "게임"처럼 느껴짐. 포획→체육관→퀘스트 루프 작동

### Phase 4 — 이벤트/레이드 + 리그 (엔드 컨텐츠)
- [ ] 전설 포켓몬 스폰 조건 설정 (레이드)
- [ ] 레이드 성공/실패 판정 + 보상
- [ ] 리그 NPC 구성 (체육관 올클리어 조건)
- [ ] 최종 보상 + 칭호/상징 아이템
- [ ] (선택) PvP 이벤트/토너먼트

**완료 기준**: 엔드 컨텐츠까지 플레이 가능. 서버 완성

---

## 5. 난이도 예상

| 항목 | 난이도 | 비고 |
|------|--------|------|
| 서버 구동 (Phase 1) | ★★☆☆☆ | 호환성만 통과하면 쉬움 |
| 기본 인프라 (Phase 2) | ★★☆☆☆ | 플러그인 설치 + 설정 |
| 체육관 | ★★★☆☆ | 맵 빌딩 + NPC 설정 |
| 퀘스트 자동화 | ★★★★☆ | Sponge 퀘스트 도구 제한적 |
| 이벤트/레이드 | ★★★☆☆ | Pixelmon config 활용 |
| PvP 추가 | ★★☆☆☆ | 구역 설정 정도 |

---

## 6. 참고

- BotTycoon(Paper API 서버) 운영 경험 있음 → Paper와의 차이점 중심으로 학습
- 이 서버는 포트폴리오 대상이 아님 → 문서화보다 실용성 우선
- 설계를 먼저 고정하면 개발 난이도가 급격히 내려감
